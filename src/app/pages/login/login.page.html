<ion-header>
  <ion-toolbar>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<!--form code based on tut: https://javebratt.com/ionic-firebase-tutorial-auth/-->
<ion-content padding>
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-col >
        <form [formGroup]="loginForm">
          <ion-item>
            <!-- login email address field -->
            <ion-label position="floating" class ="form-label">        
              <ion-icon name="mail" color = "medium"></ion-icon> 
              Email Address:
            </ion-label>
            <ion-input
              formControlName="email"
              type="email"
              [class.invalid]="!loginForm.controls['email'].valid &&
              loginForm.controls['email'].touched"
            >
            </ion-input>
          </ion-item>
          <!-- invalid email input message -->
          <ion-item
            lines="none" 
            class="error-message"
            *ngIf="!loginForm.controls['email'].valid &&
                loginForm.controls['email'].touched"
          >
            <ion-icon name="alert" padding></ion-icon>
            <ion-label text-wrap>Invalid email address</ion-label>
          </ion-item>
          <!-- login password field -->
          <ion-item>
            <ion-label position="floating" class ="form-label">
                <ion-icon name="key" color="medium"></ion-icon>
                Password:
            </ion-label>
            <ion-input
              formControlName="password"
              type="password"
              [class.invalid]="!loginForm.controls['password'].valid&& loginForm.controls['password'].touched"
            > 
            </ion-input>
          </ion-item>
          <!-- invalid password input message-->
          <ion-item
            lines="none" 
            class="error-message"
            *ngIf="!loginForm.controls['password'].valid
              && loginForm.controls['password'].touched"
          >
            <ion-icon name="alert" padding></ion-icon>
            <ion-label text-wrap>No password entered</ion-label>
          </ion-item>
          <!-- login button -->
          <ion-button (click)="loginUser(loginForm)" [disabled]="!loginForm.valid" float-right>
            LogIn
          </ion-button>
        </form>
        <!-- sign up button -->
        <ion-button fill="clear" routerLink="/signup" size="small">
          Sign up
        </ion-button>
        <!-- password reset page button -->
        <ion-button fill="clear" routerLink="/reset-password" size="small">
          Forgot Password?
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
